<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pedro Cruz</title>

<style>
:root{
  --bg:#0b0b0b;
  --text:#eaeaea;
  --muted:#9a9a9a;
  --card:#141414;
  --accent:#ffffff20;
}

*{box-sizing:border-box;}

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:Arial, Helvetica, sans-serif;
}

/* HEADER */

header{
  text-align:center;
  padding:40px 10px 10px;
}

.lang-switch{
  position:fixed;
  top:12px;
  right:12px;
  font-size:.9rem;
}

.lang-switch span{
  cursor:pointer;
  margin-left:10px;
  opacity:.4;
}

.lang-switch .active{opacity:1;}

/* NAV */

.project-nav{
  position:fixed;
  top:50%;
  left:12px;
  transform:translateY(-50%);
  display:flex;
  flex-direction:column;
  gap:6px;
  z-index:10;
}

.project-nav a{
  color:#939393;
  text-decoration:none;
  font-size:.8rem;
}

.project-nav a:hover{color:white;}

/* PROJECT META */

.project-meta{
  margin:70px 40px 10px;
}

.project-meta h2{
  margin:0;
}

/* GRID — mais elegante */

.projects{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
  gap:22px;
  padding:25px 40px 40px;
}

.card{
  background:var(--card);
  border-radius:10px;
  overflow:hidden;
  position:relative;
  aspect-ratio:3/2;
  cursor:pointer;
  transition:transform .25s ease, box-shadow .25s ease;
}

.card:hover{
  transform:translateY(-4px);
  box-shadow:0 12px 28px rgba(0,0,0,.45);
}

.card img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

/* LIGHTBOX */

.lightbox{
  display:none;
  position:fixed;
  inset:0;
  background:#000d;
  backdrop-filter:blur(6px);
  justify-content:center;
  align-items:center;
  z-index:100;
}

.lightbox img{
  max-width:92vw;
  max-height:82vh;
}

.lightbox .close,
.lightbox .prev,
.lightbox .next{
  position:absolute;
  cursor:pointer;
  font-size:40px;
  color:white;
  user-select:none;
}

.lightbox .close{top:15px;right:22px;}
.lightbox .prev{left:25px;}
.lightbox .next{right:25px;}

.caption{
  position:absolute;
  bottom:35px;
  text-align:center;
  width:100%;
  font-size:.9rem;
  color:#ddd;
}

/* ABOUT */

.about{
  max-width:760px;
  margin:0 auto;
  text-align:center;
  padding:0 20px;
}

/* FOOTER */

footer{
  text-align:center;
  opacity:.7;
  padding:30px;
}
</style>
</head>

<body>

<header>
  <div class="lang-switch">
    <span id="btn-pt" class="active" onclick="setLang('pt')">PT</span>
    <span id="btn-en" onclick="setLang('en')">EN</span>
  </div>
  <h1>Pedro Cruz</h1>
  <p>Photography · Improvisation · Presence</p>
</header>

<nav class="project-nav" id="project-nav"></nav>

<section>
  <div class="about">
    <div class="lang-pt">
      Nasci em 1971. A fotografia entrou cedo na minha vida como espaço de observação e experimentação.
    </div>
    <div class="lang-en" style="display:none;">
      I was born in 1971. Photography entered my life early as a space for observation and experimentation.
    </div>
  </div>

<!-- ————————— PROJECTS ————————— -->

<div class="project-meta" id="project-1">
  <h2 data-title-pt="From Blue Walls to White Silence" data-title-en="From Blue Walls to White Silence">
    From Blue Walls to White Silence
  </h2>
  <p>2007</p>
</div>
<div class="projects" id="projects-cor"></div>

<div class="project-meta" id="project-2">
  <h2 data-title-pt="Under the Same Weather" data-title-en="Under the Same Weather">
    Under the Same Weather
  </h2>
  <p>2012</p>
</div>
<div class="projects" id="projects-pb"></div>

<div class="project-meta" id="project-3">
  <h2 data-title-pt="Inside the Sound" data-title-en="Inside the Sound">
    Inside the Sound
  </h2>
  <p>2024</p>
</div>
<div class="projects" id="projects-mia"></div>

<div class="project-meta" id="project-4">
  <h2 data-title-pt="Last Night" data-title-en="Last Night">
    Last Night
  </h2>
  <p>2016</p>
</div>
<div class="projects" id="projects-cas"></div>

<div class="project-meta" id="project-5">
  <h2 data-title-pt="Estruturas de Permanência" data-title-en="Structures of Permanence">
    Structures of Permanence
  </h2>
  <p>Projecto de Longa Duração</p>
</div>
<div class="projects" id="projects-estrutura"></div>

</section>

<footer>
  © 2025 — Pedro Cruz
</footer>

<!-- ————————— LIGHTBOX ————————— -->

<div class="lightbox" id="lightbox">
  <span class="prev" onclick="prevImage()">‹</span>
  <img id="lightbox-img">
  <span class="next" onclick="nextImage()">›</span>
  <div class="close" onclick="closeLightbox()">×</div>
  <div class="caption" id="lightbox-caption"></div>
</div>

<script>
let currentLang='pt';
let currentGroup=null;
let currentIndex=0;

/* ————————— IMAGE DATA + CAPTIONS ————————— */

const imageGroups={

  cor:{images:["01","02","04","06","07"].map(n=>`./assets/cor/Paisagen_cheff${n}.jpg`),
       captions:{
         pt:["A Cidade Viva","A Saída","O Observador","Ascensão","Silêncio"],
         en:["Living City","Exit","Watcher","Ascent","Silence"]
       }},

  pb:{images:["01","02","03","05","08"].map(n=>`./assets/pb/Paisagen_pb${n}.jpg`),
      captions:{
        pt:["Antes","Céu","Passagem","Entre","Noite"],
        en:["Before","Sky","Passage","Between","Night"]
      }},

  mia:{images:["01","03","05","07","09"].map(n=>`./assets/mia/mia${n}.jpg`),
       captions:{
         pt:["Antes","Fio","Soltar","Negociação","Declaração"],
         en:["Before","Thread","Release","Negotiation","Statement"]
       }},

  cas:{images:["01","02","03","04","05","06","07","08"].map(n=>`./assets/cas/cas${n}.jpg`),
       captions:{
         pt:["Antes","Fratura","Instável","Suspensa","Eco","Padrão","Colapso","Depois"],
         en:["Before","Fracture","Unstable","Suspended","Echo","Pattern","Collapse","After"]
       }},

  estrutura:{
    images:[
      "./assets/estrutura/_1est18.jpg",
      "./assets/estrutura/_2est28.jpg",
      "./assets/estrutura/_3est37.jpg",
      "./assets/estrutura/_4est32.jpg",
      "./assets/estrutura/_5est36.jpg",
      "./assets/estrutura/_6est35.jpg",
      "./assets/estrutura/_7est21.jpg",
      "./assets/estrutura/_8est33.jpg",
      "./assets/estrutura/_9est19.jpg",
      "./assets/estrutura/_10est14.jpg",
      "./assets/estrutura/_11est29.jpg",
      "./assets/estrutura/_12est30.jpg",
      "./assets/estrutura/_13est10.jpg"
    ],
    captions:{
      pt:[
        "Estrutura Latente",
        "Fachada em Suspensão",
        "Geometria Residual",
        "Ordem Parcial",
        "Repetição Persistente",
        "Intervalo Arquitectónico",
        "Cidade em Eco",
        "Reflexo Invertido",
        "Estratigrafia Urbana",
        "Vestígios de Luz",
        "Antenas no Crepúsculo",
        "Céu em Ruptura",
        "Noite Diluída"
      ],
      en:[
        "Latent Structure",
        "Suspended Facade",
        "Residual Geometry",
        "Partial Order",
        "Persistent Repetition",
        "Architectural Interval",
        "Echoing City",
        "Inverted Reflection",
        "Urban Stratigraphy",
        "Traces of Light",
        "Antennas at Dusk",
        "Fractured Sky",
        "Dissolved Night"
      ]
    }
  }
};

/* ————————— GRID CONSTRUCTION ————————— */

const observer=new IntersectionObserver(entries=>{
  entries.forEach(entry=>{
    if(entry.isIntersecting){
      const img=entry.target;
      img.src=img.dataset.src;
      observer.unobserve(img);
    }
  });
});

function createCards(groupId){
  const container=document.getElementById('projects-'+groupId);
  imageGroups[groupId].images.forEach((src,i)=>{
    const card=document.createElement('div');
    card.className='card';
    const img=document.createElement('img');
    img.dataset.src=src;
    observer.observe(img);
    card.appendChild(img);
    card.onclick=()=>openLightbox(groupId,i);
    container.appendChild(card);
  });
}

['cor','pb','mia','cas','estrutura'].forEach(createCards);

/* ————————— LIGHTBOX ————————— */

function openLightbox(group,i){
  currentGroup=group;
  currentIndex=i;
  updateLightbox();
  document.getElementById('lightbox').style.display='flex';
}

function updateLightbox(){
  document.getElementById('lightbox-img').src=imageGroups[currentGroup].images[currentIndex];
  document.getElementById('lightbox-caption').textContent=
    imageGroups[currentGroup].captions[currentLang][currentIndex] || "";
}

function closeLightbox(){
  document.getElementById('lightbox').style.display='none';
}

function nextImage(){
  currentIndex=(currentIndex+1)%imageGroups[currentGroup].images.length;
  updateLightbox();
}

function prevImage(){
  currentIndex=(currentIndex-1+imageGroups[currentGroup].images.length)%imageGroups[currentGroup].images.length;
  updateLightbox();
}

/* ————————— LANGUAGE ————————— */

function setLang(lang){
  currentLang=lang;

  document.querySelectorAll('.lang-pt').forEach(e=>e.style.display=lang==='pt'?'block':'none');
  document.querySelectorAll('.lang-en').forEach(e=>e.style.display=lang==='en'?'block':'none');

  document.querySelectorAll('#project-nav a').forEach(a=>{
    a.textContent=a.dataset[`title-${lang}`];
  });

  document.getElementById('btn-pt').classList.toggle('active',lang==='pt');
  document.getElementById('btn-en').classList.toggle('active',lang==='en');

  if(document.getElementById('lightbox').style.display==='flex'){
    updateLightbox();
  }
}

/* ————————— SIDE MENU ————————— */

const nav=document.getElementById('project-nav');
document.querySelectorAll('.project-meta').forEach(sec=>{
  const a=document.createElement('a');
  const h2=sec.querySelector('h2');
  a.href='#'+sec.id;
  a.dataset['title-pt']=h2.dataset.titlePt;
  a.dataset['title-en']=h2.dataset.titleEn;
  a.textContent=h2.dataset.titlePt;
  nav.appendChild(a);
});
</script>

</body>
</html>
